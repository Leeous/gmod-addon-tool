<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script>require('electron-connect').client.create()</script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js" onload="window.$ = window.jQuery = module.exports;"></script>
    <script src="src/js/script.js"></script>
    <title>Garry's Mod Addon Tool</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="src/css/style.css">
</head>
<body>
    <div id="main_titlebar">
        <div class="main_title">
            <p>Garry's Mod Addon Tool <span style='font-size: 0.7em; font-weight: 300; -webkit-app-region: no-drag;'>by <a href='https://leeous.github.io' target='_blank' style='text-decoration: underline; color: inherit;'>Leeous</a></span></p>
        </div>
        <div class="main_buttons">
            <p id="coffeeApp" title="Buy me a coffee? :)">☕</p>
            <p id="minApp">—</p>
            <p id="closeApp">X</p>
        </div>
    </div>
    <div id="directory_selection">
        <div id="gmodDirSelect">
            <h3 id="dir_select_prompt">Please select your Garry's Mod directory</h3>
            <button id="gmod_dir_folder" class="button_normal">Choose Directory</button>
            <h4 style="font-weight: 300; margin: 10px">Steam <b>must</b> be open!</h4>
        </div>
        <p id="status_of_dir"></p>
        <div id="dir_prompt_next">
            <button class="transition_button" data-divtoshow="#addon_management, #addon_management_prompt" data-divtohide="#directory_selection" data-resize="500, 200" disabled>Next</button>
        </div>
    </div>
    <div id="addon_management">
        <div id="addon_management_prompt">
            <h3>What would you like to do?</h3>
            <div id="addon_mgt_btn_grid">
                <button id="create_addon_button" class="button_normal medium-text transition_button" data-divtoshow="#create_new_addon, #addonDirPrompt" data-divtohide="#addon_management_prompt" data-resize="500, 250" style="margin: 10px;">Create a new addon</button>
                <button id="update_existing_addon_button" class="button_normal medium-text transition_button rowtwo" data-divtoshow="#update_existing_addon" data-divtohide="#addon_management_prompt" data-resize="500, 250" style="margin: 10px;">Loading... </button>
                <button class="button_normal medium-text transition_button rowtwo" data-divtoshow="#extract_addon, #addon_extraction, #extract_addon_select" data-divtohide="#addon_management_prompt" data-resize="500, 250" style="margin: 10px;">Extract Addon</button>
            </div>
        </div>
        <div id="update_existing_addon" class="path_div">
            <div class="top">
                <button class="back_button transition_button" data-divtoshow="#addon_management_prompt" data-divtohide="#update_existing_addon" data-resize="500, 200">◀ Back</button>
                <h3>Your addons</h3>
            </div>
            <div id="yourAddons"></div>
        </div>
        <div id="create_new_addon" class="path_div">
            <div class="top">
                <button id="back_button_addon_creation" class="back_button" data-backwards="#addon_management_prompt" data-forwards="#create_new_addon" data-resize="500, 200">◀ Back</button>
                <h3>Addon creation</h3>
            </div>
            <div id="addon_creation">
                <div id="addonDirPrompt">
                    <p>Please select your addon's folder</p>
                    <button id="addon_dir_folder" class="button_normal">Choose Directory</button>
                    <p id="addonDir"><b></b></p>
                    <div class="next_prompt">
                        <button id="addonDirCheck" class="transition_button" data-divtoshow="#addonIconPrompt" data-divtohide="#addonDirPrompt" data-resize="500, 250" disabled>Next</button>
                    </div>
                </div>
                <div id="addonIconPrompt">
                    <p>Please select an icon for your addon</p>
                    <p style="font-size: 0.8em">Must be a JPEG/JPG</p>
                    <button id="addon_icon" class="button_normal">Choose Directory</button>
                    <div class="next_prompt">
                        <button id="addonIconCheck" class="transition_button" data-divtoshow="#addonjsonPrompt" data-divtohide="#addonIconPrompt" data-resize="500, 200" disabled>Next</button>
                    </div>
                </div>
                <div id="addonjsonPrompt">
                    <h3>Do you already have an <i>addon.json</i> file?</h3>
                    <div>
                        <button class="button_normal transition_button removeBackOption" data-divtoshow="#jsonCreator" data-divtohide="#addonjsonPrompt" data-resize="500, 350">No</button>
                        <button class="button_normal transition_button removeBackOption" data-divtoshow="#gmaPrep" data-divtohide="#addonjsonPrompt" data-resize="500, 200">Yes</button>
                    </div>
                </div>
                <div id="jsonCreator">
                    <div id="jsonInfo">
                        <div id="jsonTitle">
                            <p class="jsonSectionHeader">Title</p>
                            <input name="addonTitle" type="text" placeholder="Crazy cool addon" maxlength="128">
                            <p><span style="font-size: .7em; color: grey;">(required)</span></p>
                        </div>
                        <div id="jsonType">
                            <p class="jsonSectionHeader">Type</p>
                            <select name="addonType" id="">
                                <option value="null">-- Select one --</option>
                                <option value="serverContent">Server Content</option>
                                <option value="gamemode">Gamemode</option>
                                <option value="map">Map</option>
                                <option value="weapon">Weapon</option>
                                <option value="vehicle">Vehicle</option>
                                <option value="npc">NPC</option>
                                <option value="tool">Tool</option>
                                <option value="effects">Effects</option>
                                <option value="model">Model</option>
                            </select>
                            <p><span style="font-size: .7em; color: grey;">(required)</span></p>
                        </div>
                        <div id="jsonTags">
                            <div class="col">
                                <p class="jsonSectionHeader">Tag</p>
                            </div>
                            <div class="col">
                                <div class="jsonGrid">
                                    <div class="type">
                                        <input type="checkbox" name="roleplay" class="typeCheckbox">
                                        <p>Roleplay</p>
                                    </div>
                                    <div class="type">
                                        <input type="checkbox" name="scenic" class="typeCheckbox">
                                        <p>Scenic</p>
                                    </div>
                                    <div class="type">
                                        <input type="checkbox" name="movie" class="typeCheckbox">
                                        <p>Movie</p>
                                    </div>
                                    <div class="type">
                                        <input type="checkbox" name="realism" class="typeCheckbox">
                                        <p>Realism</p>
                                    </div>
                                    <div class="type">
                                        <input type="checkbox" name="fun" class="typeCheckbox">
                                        <p>Fun</p>
                                    </div>
                                    <div class="type">
                                        <input type="checkbox" name="water" class="typeCheckbox">
                                        <p>Water</p>
                                    </div>
                                    <div class="type">
                                        <input type="checkbox" name="comic" class="typeCheckbox">
                                        <p>Comic</p>
                                    </div>
                                    <div class="type">
                                        <input type="checkbox" name="build" class="typeCheckbox">
                                        <p>Build</p>
                                    </div>
                                    <div class="type">
                                        <input type="checkbox" name="cartoon" class="typeCheckbox">
                                        <p>Cartoon</p>
                                    </div>
                                    <div class="type">
                                        <p><span style="font-size: .7em; color: grey;">(max 2)</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="jsonIgnore">
                            <p class="jsonSectionHeader">Ignore</p>
                            <input name="addonIgnore" type="text" placeholder="*.html, README.md, etc">
                            <p><span style="font-size: .7em; color: grey; font-weight:500;">(file names seprated by a comma)</span></p>
                        </div>
                        <div class="next_prompt">
                            <button id="jsonAddonValidate" class="transition_button" data-divtoshow="#gmaPrep" data-divtohide="#jsonCreator" data-resize="500, 200" disabled>Next</button>
                        </div>
                    </div>
                </div>
                <div id="gmaPrep">
                    <!-- <p>Created <span style="font-weight: 700">addon.json</span>!</p> -->
                    <h3>Create GMA for uploading to the Workshop?</h3>
                    <button style="width: 100px;" class="button_normal transition_button resetAddonCreation" data-divtohide="#create_new_addon" data-divtoshow="#addon_management_prompt" data-resize="500, 200">No</button>
                    <button style="width: 100px;" id="createGMAFile" class="button_normal transition_button">Yes</button>
                    <!-- <img src="src/img/loading.gif" style="display: block; margin-left: auto; margin-right: auto; width: 64px;" alt=""> -->
                </div>
                <div id="createGMA">
                    <p>Creating GMA...</p>
                    <img src="src/img/loading.gif" style="width: 64px; display: block; margin-left: auto; margin-right: auto; margin-top: 35px;" alt="">
                </div>
                <div id="uploadToWorkshopPrompt">
                    <h3>Upload to the Workshop?</h3>
                    <button style="width: 100px;" class="button_normal">No</button>
                    <button style="width: 100px;" id="uploadCurrentGMA" class="button_normal">Yes</button>
                </div>
                <div id="uploading">
                    <p>Uploading to the workshop...</p>
                    <img src="src/img/loading.gif" style="width: 64px; display: block; margin-left: auto; margin-right: auto; margin-top: 35px;" alt="">
                </div>
                <div id="new_addon">
                    <h3>Uploaded!</h3>
                    <p><a id="new_addon_link" style="color: white;" href="#">View on Steam</a></p>
                    <button class="button_normal transition_button resetAddonCreation" data-divtohide="#create_new_addon" data-divtoshow="#addon_management_prompt" data-resize="500, 200" style="width: 100px;">Done</button>
                </div>
            </div>
        </div>
        <div id="extract_addon" class="path_div">
            <div class="top">
                <button id="extraction_back" class="back_button transition_button" data-divtoshow="#addon_management_prompt" data-divtohide="#extract_addon" data-resize="500, 200">◀ Back</button>
                <h3>Addon Extraction</h3>
            </div>
            <div id="addon_extraction">
                <div id="extract_addon_select">
                    <p>Select the GMA file you'd like to extract</p>
                    <button id="gmaFileSelection" class="button_normal">Choose GMA file</button>
                    <p id="currentGMAFile"></p>
                    <div id="addon_extract_next" class="bottom_btn">
                        <button disabled class="button_normal" data-divtohide="#extract_addon_select" data-divtoshow="#extracting_addon">Extract</button>
                    </div>
                </div>
                <div id="extracting_addon">
                    <p>Extracting addon...</p>
                    <img src="src/img/loading.gif" style="width: 64px; display: block; margin-left: auto; margin-right: auto; margin-top: 35px;" alt="">
                </div>
                <div id="extraction_done">
                    <h3>Extracted!</h3>
                    <p><a id="extractedGMALocation" style="color: white;" href="#">View</a></p>
                    <button class="button_normal transition_button resetAddonExtraction" data-divtohide="#extract_addon" data-divtoshow="#addon_management_prompt" data-resize="500, 200" style="width: 100px;">Done</button>
                </div>
            </div>
        </div>
    </div>
    <div id="checkmarkNote">
        <img src="src/img/checkmark.png" alt="">
        <p>Saved!</p>
    </div>
</body>
</html>